# onboarderr
Self-hosted user onboarding site for Plex and Audiobookshelf server owners

# Introducing Onboarderr

![mainpage](https://github.com/secretlycarl/onboarderr/blob/main/screenshots/mainpage.png)

![Customization Options](https://github.com/secretlycarl/onboarderr/blob/main/screenshots/customexample.png)

Onboarderr is a customizable onboarding site for a host's Plex and (optional) Audiobookshelf servers. It includes user instructions, server highlights, and a basic admin dashboard.

It's not exactly plug and play, as there are some things to customize before sharing it with users. Might be a little janky.

Please read to the end!

#

As someone who's never made a website before, I wanted to: 

- Learn about HTML, CSS, websites in general, and self-hosting

- Improve on a few "new user setup" guides I've seen for Plex

- Offer a more appealing way for friends to join my Plex

- Give me something constructive to do while unemployed lol


Admittedly, most of the code was generated by AI (ChatGPT, Gemini, Cursor). 

I handled the layout, all copywriting/instructions, collected and edited screenshots, and came up with this whole thing.


# Features

- Setup instructions for Plex and Audiobookshelf users

- Carousel previews and media lists pulled from your server

- Optional Discord notifications when users request access

- Admin dashboard with basic tools and info

**[Screenshots](https://github.com/secretlycarl/onboarderr/tree/main/screenshots)**


# Requirements

Python (3.10+)

Plex Media Server

Method of making your local server publicly accessible (Tailscale w/ [Tailscale Funnel](https://tailscale.com/kb/1223/funnel) if you're new to self-hosting. Simple and free. I use [Cloudflared](https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/get-started/) now to handle a few URLs I want to make public)


# Optional Requirements

[Audiobookshelf](https://www.audiobookshelf.org/) Server and public URL to share with users

[Pulsarr](https://github.com/jamcalli/Pulsarr) - Per-user content requests integrated w/ Sonarr & Radarr via Plex watchlist
- Pulsarr is able to push "media added" notifications through the Plex mobile app via Tautulli integration. Works fine for movies, but does not handle every new episode of shows. Hence the next one-

[Tautulli](https://github.com/Tautulli/Tautulli) - Per-user specific "episode/audiobook added" notifications on Discord

[Sonarr](https://github.com/Sonarr/Sonarr) & [Radarr](https://github.com/Radarr/Radarr) - to grab the watchlisted content

Discord - to handle certain admin & user notifications

# First Time Setup

	git clone https://github.com/secretlycarl/onboarderr

	cd onboarderr

Rename ```empty.env``` to ```.env```, and set:

- ```SITE_PASSWORD``` - for guests
- ```ADMIN_PASSWORD``` - for you
- ```DRIVES```(optional) - for a storage bar display in the admin panel.
- ```SECRET_KEY``` - should be a long (>32 chars) string. [pinetools](https://pinetools.com/random-string-generator)

The rest of ```.env``` is filled by ```/setup``` on first startup.

# Dockerized Startup (Recommended)

From the project directory, run:

Linux/macOS:
```
docker build -t onboarderr .
docker run -d -p 10000:10000 --name onboarderr -v $(pwd):/app onboarderr
```

Windows (PowerShell):
```
docker build -t onboarderr .
docker run -d -p 10000:10000 --name onboarderr -v ${PWD}:/app onboarderr
```

Windows (Command Prompt):
```
docker build -t onboarderr .
docker run -d -p 10000:10000 --name onboarderr -v %cd%:/app onboarderr
```

- `-v` maps the project folder into the container, so any CSS and HTML changes are reflected on refresh.
- To apply the changes made to `.env` after setup, restart the container: `docker restart onboarderr`
- To stop/remove: `docker stop onboarderr && docker rm onboarderr`
- The site will be available at ```localhost:10000```

# Manual Startup

Create and activate a venv (I use conda), Then:

	pip install -r requirements.txt

	python app.py

- It runs on port ```10000``` by default. You can change this at the bottom of ```app.py```.
- ```debug=True``` at the bottom of ```app.py``` is on for live testing of updates. Make ```False``` when the site is ready.
- To restart it from here, CTRL+C in terminal window, then ```python app.py``` again
- Go to ```http://127.0.0.1:10000```

#

First run will bring you to [setup](https://github.com/secretlycarl/onboarderr/blob/main/screenshots/1_setup.png). Everything here can be changed afterwards from ```.env``` or the settings dropdown on ```/services```.

The library descriptions you write are saved to ```library_notes.json```, and displayed on the Plex onboarding page in section 1.

It pulls artwork from your Plex libraries to show in the carousels. I have an audiobook library which mirrors my ABS server so it was easiest for me to just use Plex to pull those images instead of new logic for ABS.

After submission, restart the script to apply the new ```.env``` and go to Login

```ADMIN_PASSWORD``` will take you to services page, but you can browse the others from the links at the top.

```SITE_PASSWORD``` will not allow access to admin page


# !!! Per-Host Tweaks !!!

After setup, go through the HTMLs and other files, and make any changes to the content to adjust it for you.

Specifically:

- Section 5 in ```onboarding.html``` only applies if you have Pulsarr

- Section 7 in ```onboarding.html``` is personalized to me, you should rewrite it

- Pick a new ```--accent``` color in the CSS, this will change all instances of ```#d33fbc``` in the HTMLs

- Make a new logo, favicon, and wordmark. I made the ones it comes with quickly with these sites -

	- Simple vector editor - https://vectorink.io/app/canvas

	- Wordmark Generator (make output text as big as slider allows) - https://fontmeme.com/netflix-font/

- If you don't have Tautulli + Discord set up, remove mentions of "ask me about my discord"

- In ```app.py```, edit the ```services = [``` list to change the ones availble on the admin page.

- In ```app.py```, adjust the ```300``` threshold for ```movies_grouped``` and ```shows_grouped```. This controls when the lists switch to aplhabetical dropdowns.

- Delete ```plex_submissions.json``` and ```audiobookshelf_submissions.json```. the ones that come with it have example data to populate the requests sections on ```/services```

# Sharing

When ready, 
- Activate your tailscale funnel, cloudflare tunnel, or bingle tube
- Share the public URL with friends

# Future goals

I've never made a project this complex, or had a project this many people were interested in, so I'm not clear on how the future development for this will go. I have some ideas to make it better, but getting this all set up in a way that it's customizable and not just for my machine only was a beast itself.

So if you want to make it better, please do! Fork, pull request, whatever.

Some improvements I might work on after publishing the initial version -

- Improve layout, make more modern/adaptive, especially on mobile. My CSS implementation of mobile device detection, and how it changes elements for mobile, is crude at the moment.

- Better library image handling (currently pulls 25 random posters for each category on startup, i like this personally but maybe it could be changed to grab a new set on an interval)

- Fix looping of carousels (now they just sorta reset to initial pos and keep going that way)

- Rate limiting/better site security

- More languages, maybe language dropdown on setup to switch all body text contents



# Thank You!

Thanks for your interest in my project! I hope you find it useful. If you want to give me a tip for putting this all together - 

[ko-fi.com/secretlycarl](https://ko-fi.com/secretlycarl)
